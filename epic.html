<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epic Games · Accedi</title>
    <!-- Font Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #14151b;
            background-image: radial-gradient(circle at 100% 0%, rgba(60, 160, 255, 0.05) 0%, transparent 40%),
                              radial-gradient(circle at 0% 100%, rgba(0, 200, 255, 0.05) 0%, transparent 40%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: "Inter", system-ui, sans-serif;
            padding: 1rem;
        }

        .login-card {
            max-width: 500px;
            width: 100%;
            background: #202228;
            border-radius: 28px;
            padding: 2.5rem 2.2rem;
            box-shadow: 0 25px 50px -8px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,255,255,0.02) inset;
            backdrop-filter: blur(2px);
            border: 1px solid #33363f;
        }

        .epic-logo {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .epic-logo img {
            height: 70px;
            width: auto;
            filter: brightness(1.2);
        }

        h1 {
            color: white;
            font-weight: 600;
            font-size: 1.8rem;
            letter-spacing: -0.3px;
            text-align: center;
            margin-bottom: 2rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-label {
            display: block;
            color: #b0b3be;
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 0.4rem;
            letter-spacing: -0.2px;
        }

        .input-field {
            width: 100%;
            background: #2c2f36;
            border: 1px solid #40444f;
            border-radius: 14px;
            padding: 0.9rem 1.2rem;
            font-size: 1rem;
            color: white;
            outline: none;
            transition: border 0.15s, background 0.15s;
            font-family: 'Inter', sans-serif;
        }

        .input-field:focus {
            border-color: #2f7cda;
            background: #32363f;
            box-shadow: 0 0 0 3px rgba(45, 140, 255, 0.2);
        }

        .input-field.error {
            background: #3f2f34;
            border-color: #da2f4a;
        }

        .required-msg {
            color: #ff7b7b;
            font-size: 0.8rem;
            margin-top: 0.3rem;
            display: none;
            font-weight: 500;
            padding-left: 0.5rem;
        }

        .required-msg.visible {
            display: block;
        }

        .options-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1.2rem 0 2rem 0;
            color: #b0b3be;
            font-size: 0.9rem;
        }

        .remember {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .checkbox-custom {
            width: 18px;
            height: 18px;
            background: #2c2f36;
            border: 2px solid #4c505c;
            border-radius: 5px;
            display: inline-block;
            position: relative;
        }

        .checkbox-custom input {
            opacity: 0;
            position: absolute;
            width: 0;
            height: 0;
        }

        .checkbox-custom.checked::after {
            content: '';
            position: absolute;
            left: 4px;
            top: 1px;
            width: 6px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .forgot-link a {
            color: #b0b3be;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .forgot-link a:hover {
            color: #2f7cda;
        }

        .login-btn {
            width: 100%;
            background: #3a3e4a;
            border: none;
            border-radius: 30px;
            padding: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: #9fa3b0;
            cursor: not-allowed;
            transition: all 0.15s;
            border: 1px solid #4c505c;
            margin-bottom: 2rem;
        }

        .login-btn.active {
            background: #2f7cda;
            color: white;
            cursor: pointer;
            border-color: #4591e8;
            box-shadow: 0 8px 20px -8px #1f6ac0;
        }

        .login-btn.active:hover {
            background: #408ae8;
        }

        .login-btn.loading {
            background: #1f4970;
            cursor: wait;
            position: relative;
            color: transparent;
        }

        .login-btn.loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin-left: -10px;
            margin-top: -10px;
            border: 2px solid white;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .divider {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #6f7482;
            font-size: 0.9rem;
            margin-bottom: 2rem;
        }

        .divider-line {
            flex: 1;
            height: 1px;
            background: #323640;
        }

        .social-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 2.5rem;
        }

        .social-btn {
            width: 56px;
            height: 56px;
            border-radius: 18px;
            background: #2c2f36;
            border: 1px solid #40444f;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.15s, border-color 0.15s, transform 0.1s;
            padding: 10px;
        }

        .social-btn img {
            width: 30px;
            height: 30px;
            object-fit: contain;
            filter: brightness(0.9);
            transition: filter 0.15s;
        }

        .social-btn:hover {
            background: #3a3f4b;
            border-color: #5f6a80;
            transform: scale(1.03);
        }

        .social-btn:hover img {
            filter: brightness(1.2) drop-shadow(0 0 2px rgba(255,255,255,0.3));
        }

        .signup-link {
            text-align: center;
            margin: 1rem 0 0.8rem;
        }

        .signup-link a {
            color: #ccc;
            text-decoration: none;
            font-weight: 500;
        }

        .signup-link a:hover {
            color: white;
            text-decoration: underline;
        }

        .privacy-note {
            text-align: center;
            color: #5f6472;
            font-size: 0.8rem;
        }

        .privacy-note a {
            color: #8f94a5;
            text-decoration: none;
        }

        .privacy-note a:hover {
            color: #b0b8d0;
            text-decoration: underline;
        }

        .footer-name {
            font-size: 8px;
            color: #3c4050;
            text-align: center;
            margin-top: 2rem;
            letter-spacing: 1px;
        }

        .hidden {
            display: none;
        }

        .auth-message {
            margin: 1rem 0;
            padding: 1rem;
            border-radius: 12px;
            font-size: 0.9rem;
            text-align: center;
        }

        .auth-error {
            background: rgba(218, 47, 74, 0.1);
            border: 1px solid #da2f4a;
            color: #ff7b7b;
        }

        .auth-success {
            background: rgba(47, 218, 74, 0.1);
            border: 1px solid #2fda4a;
            color: #7bff7b;
        }

        .auth-info {
            background: rgba(47, 124, 218, 0.1);
            border: 1px solid #2f7cda;
            color: #7bb9ff;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="login-card">
        <!-- Logo -->
        <div class="epic-logo">
            <img src="https://raw.githubusercontent.com/ariefsatrianugraha/Epic-Games-Login-Form-With-Validation-Using-HTML-CSS-JQuery/refs/heads/master/images/logo.png" alt="Epic Games" onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2270%22%20height%3D%2270%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22white%22%3E%3Cpath%20d%3D%22M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%2018c-4.41%200-8-3.59-8-8s3.59-8%208-8%208%203.59%208%208-3.59%208-8%208z%22%2F%3E%3Cpath%20d%3D%22M13%2010h-2v4h2v-4zm-1%205c-.55%200-1%20.45-1%201s.45%201%201%201%201-.45%201-1-.45-1-1-1z%22%2F%3E%3C%2Fsvg%3E';">
        </div>

        <h1>Accedi a Epic Games</h1>

        <!-- Messaggi di feedback -->
        <div id="messageContainer"></div>

        <!-- Form -->
        <form id="loginForm">
            <div class="input-group">
                <div class="input-label">Indirizzo e-mail</div>
                <input type="email" class="input-field" id="email" placeholder="nome@esempio.com" required>
                <div class="required-msg">Campo obbligatorio</div>
            </div>

            <div class="input-group">
                <div class="input-label">Password</div>
                <input type="password" class="input-field" id="password" placeholder="••••••••" required>
                <div class="required-msg">Campo obbligatorio</div>
            </div>

            <div class="options-row">
                <label class="remember">
                    <span class="checkbox-custom" id="customCheck">
                        <input type="checkbox" id="rememberCheck" checked>
                        <span class="checked-indicator"></span>
                    </span>
                    <span>Ricordami</span>
                </label>
                <div class="forgot-link">
                    <a href="#">Hai dimenticato la password?</a>
                </div>
            </div>

            <button type="submit" class="login-btn" id="loginBtn" disabled>ACCEDI</button>
        </form>

        <!-- Divisore social -->
        <div class="divider">
            <span class="divider-line"></span>
            <span>o accedi con</span>
            <span class="divider-line"></span>
        </div>

        <!-- Icone social -->
        <div class="social-grid">
            <button class="social-btn" title="Facebook"><img src="https://raw.githubusercontent.com/ariefsatrianugraha/Epic-Games-Login-Form-With-Validation-Using-HTML-CSS-JQuery/refs/heads/master/images/fb.png" alt="Facebook" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22%234267B2%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22%2012c0-5.52-4.48-10-10-10S2%206.48%202%2012c0%204.84%203.44%208.87%208%209.8V15H8v-3h2V9.5C10%207.57%2011.57%206%2013.5%206H16v3h-2c-.55%200-1%20.45-1%201v2h3v3h-3v6.8c4.56-.93%208-4.96%208-9.8z%22%2F%3E%3C%2Fsvg%3E';"></button>
            <button class="social-btn" title="Google"><img src="https://raw.githubusercontent.com/ariefsatrianugraha/Epic-Games-Login-Form-With-Validation-Using-HTML-CSS-JQuery/refs/heads/master/images/google.png" alt="Google" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill%3D%22%23EA4335%22%20d%3D%22M5.27%209.76L7.81%2011.7C8.54%209.81%2010.35%208.5%2012.5%208.5c1.33%200%202.53.48%203.45%201.27l2.56-2.56C17.18%206%2014.96%205%2012.5%205c-4%200-7.5%202.43-9.23%205.88l2.8%202.24c.7-2.2%202.73-3.76%205.23-3.76.6%200%201.2.1%201.7.26v2.3h-1.7v2.3h3.7c.3%200%20.6-.2.7-.5.2-.6.3-1.3.3-2.1%200-.8-.1-1.5-.3-2.1-.1-.3-.4-.5-.7-.5h-3.7v-2.3c.5.2%201.1.3%201.7.3%202.6%200%204.9-1.5%206-3.7-2.2-1.3-4.9-2-7.8-2-4.6%200-8.5%202.5-10.5%206.2l2.7%202.2c1.5-3.6%205.2-6%209.5-6%202.2%200%204.2.7%205.8%201.8l-2.6%202.6c-1-.7-2.2-1.2-3.6-1.2-2.5%200-4.6%201.6-5.4%203.9z%22%2F%3E%3C%2Fsvg%3E';"></button>
            <button class="social-btn" title="PlayStation"><img src="https://raw.githubusercontent.com/ariefsatrianugraha/Epic-Games-Login-Form-With-Validation-Using-HTML-CSS-JQuery/refs/heads/master/images/ps.png" alt="PlayStation" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22%2300b0f0%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M8.98%2020.34v-5.6l4.4-1.6-1.2-.4-3.2%201.2v-4l8.4-3.2v5.6l-4.4%201.6%201.2.4%203.2-1.2v4l-8.4%203.2z%22%2F%3E%3C%2Fsvg%3E';"></button>
            <button class="social-btn" title="Xbox"><img src="https://raw.githubusercontent.com/ariefsatrianugraha/Epic-Games-Login-Form-With-Validation-Using-HTML-CSS-JQuery/refs/heads/master/images/xbox.png" alt="Xbox" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22%23107C10%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M5.12%205.12A10%2010%200%200%200%204%2012a10%2010%200%200%200%201.12%204.88l2.5-2.5A6%206%200%200%201%207%2012a6%206%200%200%201%20.62-2.62L5.12%205.12zm13.76%200l-2.5%202.5A6%206%200%200%201%2017%2012a6%206%200%200%201-.62%202.62l2.5%202.5A10%2010%200%200%200%2020%2012a10%2010%200%200%200-1.12-4.88zM12%204a8%208%200%200%200-6.24%202.76l2.5%202.5A4%204%200%200%201%2012%208a4%204%200%200%201%203.74%202.26l2.5-2.5A8%208%200%200%200%2012%204z%22%2F%3E%3C%2Fsvg%3E';"></button>
            <button class="social-btn" title="Nintendo"><img src="https://raw.githubusercontent.com/ariefsatrianugraha/Epic-Games-Login-Form-With-Validation-Using-HTML-CSS-JQuery/refs/heads/master/images/switch.png" alt="Nintendo Switch" onerror="this.src='data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22%23E60012%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M8%202h8a6%206%200%200%201%206%206v8a6%206%200%200%201-6%206H8a6%206%200%200%201-6-6V8a6%206%200%200%201%206-6zm0%202a4%204%200%200%200-4%204v8a4%204%200%200%200%204%204h8a4%204%200%200%200%204-4V8a4%204%200%200%200-4-4H8z%22%2F%3E%3C%2Fsvg%3E';"></button>
        </div>

        <div class="signup-link">
            <a href="#">Crea un account</a>
        </div>

        <div class="privacy-note">
            <a href="#">Informativa sulla privacy</a>
        </div>

        <div class="footer-name">
            ~ ARIEF SATRIA NUGRAHA ~
        </div>
    </div>

    <script>
        $(document).ready(function(){
            // Variabili backend
            const API_URL = 'http://localhost:3000'; // Cambia con l'URL del tuo server quando deployato
            
            // Validazione campi
            function checkFields() {
                const emailVal = $('#email').val().trim();
                const passVal = $('#password').val().trim();
                const btn = $('#loginBtn');

                if (emailVal !== '' && passVal !== '') {
                    btn.prop('disabled', false).addClass('active');
                } else {
                    btn.prop('disabled', true).removeClass('active');
                }
            }

            // Messaggi required
            $('#email, #password').on('blur', function(){
                const $this = $(this);
                const $msg = $this.closest('.input-group').find('.required-msg');
                if ($this.val().trim() === '') {
                    $msg.addClass('visible');
                    $this.addClass('error');
                } else {
                    $msg.removeClass('visible');
                    $this.removeClass('error');
                }
                checkFields();
            });

            $('#email, #password').on('keyup', function(){
                const $this = $(this);
                const $msg = $this.closest('.input-group').find('.required-msg');
                if ($this.val().trim() !== '') {
                    $msg.removeClass('visible');
                    $this.removeClass('error');
                }
                checkFields();
            });

            // Checkbox
            $('#rememberCheck').on('change', function(){
                if ($(this).is(':checked')) {
                    $('#customCheck').addClass('checked');
                } else {
                    $('#customCheck').removeClass('checked');
                }
            }).trigger('change');

            // Funzione per mostrare messaggi
            function showMessage(type, text) {
                const container = $('#messageContainer');
                const className = type === 'success' ? 'auth-success' : 
                                 type === 'error' ? 'auth-error' : 'auth-info';
                
                container.html(`<div class="auth-message ${className}">${text}</div>`);
            }

            // Gestione submit
            $('#loginForm').on('submit', async function(e){
                e.preventDefault();
                
                if ($('#loginBtn').is(':disabled')) return;

                const email = $('#email').val().trim();
                const password = $('#password').val();
                const remember = $('#rememberCheck').is(':checked');

                // Pulisci messaggi
                $('#messageContainer').empty();

                // Mostra caricamento
                const btn = $('#loginBtn');
                btn.addClass('loading').prop('disabled', true);

                try {
                    // Invio al server Node.js
                    const response = await fetch(`${API_URL}/api/login`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email, password, remember })
                    });

                    const data = await response.json();
                    
                    if (data.success) {
                        showMessage('success', `✅ Accesso riuscito!<br>
                            Account: ${data.account}<br>
                            Token: ${data.access_token}`);
                    } else {
                        showMessage('error', `❌ Errore: ${data.error}`);
                    }
                    
                } catch (error) {
                    showMessage('error', `❌ Errore di connessione al server: ${error.message}`);
                } finally {
                    btn.removeClass('loading');
                    if ($('#email').val().trim() && $('#password').val().trim()) {
                        btn.prop('disabled', false).addClass('active');
                    }
                }
            });

            // Social buttons
            $('.social-btn').on('click', function(){
                showMessage('info', 'Login social non implementato in questa demo');
            });
        });
    </script>
</body>
</html>
